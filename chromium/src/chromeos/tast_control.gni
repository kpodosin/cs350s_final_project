# Copyright 2021 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/sanitizers/sanitizers.gni")

#~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=
# BEFORE ADDING A TEST HERE: If this is a consistent failure in Chrome on
# ChromeOS CI builders, you should try to find and revert CLs causing new
# regressions. Do not simply disable newly failing tests in tast_control.gni
# as the Chrome uprev will still fail.
#
# Chromimum sheriffs should not disable NEW regressions here. Changes to
# this file require the current CrOS gardener's approval. See go/chrome-sheriff-tast.
#~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=~=

# Specify tests to disable at src/chromeos/tast_control_disabled_tests.txt
tast_disabled_tests_from_chrome_all = [
  # Autogenerated from src/chromeos/tast_control_disabled_tests.txt
  "policy.URLCheck.blocklist",
  "policy.CookiesBlockedForUrls",
  "arc.WindowState.clamshell",
  "policy.BlockThirdPartyCookies",
  "arc.AudioValidity.playback",
  "arc.AudioValidity.record",
  "arc.BuildProperties",
  "arc.CheckAndroidVersion",
  "arc.Downloads",
  "crostini.AppAndroidStudio.bookworm_clamshell_stable@octopus",
  "videoconferencing.OpenCLCacher",
  "security.SELinuxFilesDataDir.arcvm_user@trogdor",
  "inputs.InputMethodShelfInputs@reven-vmtest",
  "inputs.VirtualKeyboardHandwriting.docked@reven-vmtest",
  "inputs.VirtualKeyboardHandwriting.floating@reven-vmtest",
  "security.NetworkListenersNonARC@jacuzzi",
  "security.NetworkListenersNonARC@octopus",
  "ui.WebUIJSErrors",
  "ui.WebUIJSErrors.field_trial_off",
  "ui.WebUIJSErrors.field_trial_on",
  "network.AllowCACertificateManagement",
  "network.AllowClientCertificateManagement",
  "network.ARCCreateWifiInShillByCmd.manual_proxy",
  "network.ARCEAPWifiProvisioning.eap_wifi_tls",
  "apps.SystemWebAppsInstallGuest",
  "peripherals.LaunchAppFromGuestSession.diagnostics",
  "health.MonitorKeyboardDiagnosticEvent.tablet_mode_form_factors",
  "health.MonitorKeyboardDiagnosticEvent.non_tablet_mode_form_factors",
  "inputs.PhysicalKeyboardKoreanTyping@jacuzzi",
  "inputs.VirtualKeyboardHandwriting.docked",
  "inputs.VirtualKeyboardHandwriting.floating",
  "inputs.VirtualKeyboardJapaneseInputMode",
  "inputs.VirtualKeyboardMultipaste",
  "inputs.VirtualKeyboardSpeech",
  "apps.LaunchGalleryFromNotifications.stable",
  "apps.Sharesheet",
  "apps.Sharesheet",
  "bruschetta.CopyFilesToGuest@betty",
  "featured.FieldTrialEarlyBoot.active_trial",
]

# Entries only for the public builders (chromeos-XXX-rel)
if (!is_chrome_branded) {
  # Specify tests to disable at
  # src/chromeos/tast_control_disabled_tests_public_builders.txt
  tast_disabled_tests_from_chrome_all += [
    # Autogenerated from src/chromeos/tast_control_disabled_tests_public_builders.txt
    "bruschetta.AppVscodeWindowOperations.minimize",
    "crostini.AppAudacity.bookworm_clamshell_stable",
    "crostini.AppAudacityWindowOperations.maximize_bookworm_clamshell_stable",
    "crostini.AppAudacityWindowOperations.minimize_bookworm_clamshell_stable",
    "crostini.AppAudacityWindowOperations.switch_tablet_bookworm_clamshell_stable",
    "crostini.AppEmacs.bookworm_clamshell_stable",
    "crostini.AppEmacsWindowOperations.maximize_bookworm_clamshell_stable",
    "crostini.AppEmacsWindowOperations.minimize_bookworm_clamshell_stable",
    "crostini.AppEmacsWindowOperations.switch_tablet_bookworm_clamshell_stable",
    "crostini.AppFirefox.bookworm_clamshell_stable",
    "crostini.AppFirefoxNonalphanumericInput.bookworm_clamshell_stable",
    "crostini.AppFirefoxWindowOperations.maximize_bookworm_clamshell_stable",
    "crostini.AppFirefoxWindowOperations.minimize_bookworm_clamshell_stable",
    "crostini.AppFirefoxWindowOperations.switch_tablet_bookworm_clamshell_stable",
    "crostini.AppGedit.bookworm_clamshell_stable",
    "crostini.AppGedit.bullseye_clamshell_stable",
    "crostini.AppGeditFilesharing.bookworm_clamshell_stable",
    "crostini.AppGeditUnshareFolder.bookworm_clamshell_stable",
    "crostini.AppGeditNonalphanumericInput.bookworm_clamshell_stable",
    "crostini.AppVSCodeNonalphanumericInput.bookworm_clamshell_stable",
    "crostini.AppVscode.bookworm_clamshell_stable",
    "crostini.AppVscode.bullseye_clamshell_stable",
    "crostini.AppVscodeFromFileManager.bookworm_clamshell_stable",
    "crostini.AppVscodeWindowOperations.maximize_bookworm_clamshell_stable",
    "crostini.AppVscodeWindowOperations.minimize_bookworm_clamshell_stable",
    "crostini.AppVscodeWindowOperations.switch_tablet_bookworm_clamshell_stable",
    "crostini.RestartApp.bookworm_clamshell_stable",
    "shimlessrma.SelectComponentsNoneNextCancel.critical",
    "shimlessrma.WelcomeCancel.critical",
    "shimlessrma.WelcomeNextCancel.critical",
  ]
}
