description: |
  Owner: dmurph@
  Description: Verify that only tests in the given file are triggered.
prompts:
  - |
    Run all tests in file base/strings/strcat_unittest.cc only from the
    Chromium code base, do not run any other tests. Tell me the total number of
    test cases ran in the format of '"test_count": <number of tests>' and which
    test target was run.
providers:
  - id: python:../../../testing/gemini_provider.py
    config:
      timeoutSeconds: 300
tests:
  - assert:
    - type: icontains
      value: "base_unittests"
    - type: python
      value: file://../../../testing/asserts/check_gtests.py:assert_test_count
      config:
        file: base/strings/strcat_unittest.cc
    - type: model-graded-closedqa
      value: Did the prompt actually trigger the tests run in the file?
    metadata:
      pass_k_threshold: 1
      runs_per_test: 3
      precompile_targets:
      - base_unittests
